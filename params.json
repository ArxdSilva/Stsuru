{
  "name": "Stsuru",
  "tagline": "Link Shortener made with Go!",
  "body": "### Welcome to Stsuru!\r\nThis is a Link shortener made in Go, It is simple, fast, small and pluggable. Check our Code bellow or in Github for more info on how to use It.\r\n\r\n### Authors and Contributors\r\nContributions are welcome, we advise you to check our LICENSE file for more info.\r\n\r\n### Support or Contact\r\nNeed some help with the code? Contact me on [Twitter](www.twitter.com/arxdsilva) or create a new [Issue](https://github.com/arxdsilva/stsuru/issues) in Github! \r\n\r\n### Code\r\nIt's so simple that you can see how It works in this page:\r\n```go\r\n// NewShorten is the type used to input your urls to short using:\r\n// NewShorten{customize}.Shorten()\r\ntype NewShorten struct {\r\n\tU          *url.URL\r\n\tCustomHost string\r\n\tToken      string\r\n\tNumBytes   int\r\n}\r\n\r\nfunc (n *NewShorten) Shorten() (*url.URL, error) {\r\n\terr := validateURL(n.U)\r\n\tif err != nil {\r\n\t\treturn nil, err\r\n\t}\r\n\thash := switchToken(n.U, n.Token, n.NumBytes)\r\n\treturn switchHost(n.U, hash, n.CustomHost)\r\n}\r\n\r\nfunc validateURL(u *url.URL) error {\r\n\tr, err := http.Get(u.String())\r\n\tif err != nil || r.StatusCode != 200 {\r\n\t\treturn fmt.Errorf(\"%s is not valid or the Host is having problems\", u.String())\r\n\t}\r\n\treturn nil\r\n}\r\n\r\nfunc tokenGenerator(numBytes int) string {\r\n\tswitch numBytes {\r\n\tcase 0:\r\n\t\tnumBytes = 2\r\n\t}\r\n\tnum := numBytes\r\n\tb := make([]byte, num)\r\n\trand.Read(b)\r\n\treturn fmt.Sprintf(\"%x\", b)\r\n}\r\n\r\nfunc switchToken(u *url.URL, s string, n int) string {\r\n\tswitch s {\r\n\tcase \"\":\r\n\t\treturn tokenGenerator(n)\r\n\tdefault:\r\n\t\treturn hashGenerator(u)\r\n\t}\r\n}\r\n\r\nfunc switchHost(u *url.URL, hash, customHost string) (*url.URL, error) {\r\n\tswitch customHost {\r\n\tcase \"\":\r\n\t\treturn &url.URL{\r\n\t\t\tScheme: \"https\",\r\n\t\t\tHost:   \"tsu.ru\",\r\n\t\t\tPath:   hash,\r\n\t\t}, nil\r\n\tdefault:\r\n\t\treturn &url.URL{\r\n\t\t\tScheme: \"https\",\r\n\t\t\tHost:   customHost,\r\n\t\t\tPath:   hash,\r\n\t\t}, nil\r\n\t}\r\n\r\n}\r\n```",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}